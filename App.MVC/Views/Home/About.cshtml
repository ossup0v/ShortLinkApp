@{
    ViewBag.Title = "About";
}

<h2>@ViewBag.Title.</h2>
<h3>@ViewBag.Message</h3>


<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <script src="https://code.jquery.com/jquery-3.4.1.js"></script>
</head>
<body>

    <form action="/Home/ListShortLinks" id="ListShortLinks">
        <input type="submit" value="show list of short links">
    </form>

    <form action="/find" id="find">
        <input type="text" name="token" placeholder="Type short link">
        <input type="submit" value="Search full link">
    </form>
    <!-- the result of the search will be rendered inside this div -->
    <div id="fullLink"></div>

    <form action="/Home/CreateShortLink" id="CreateShortLink">
        <input type="text" name="fullLink" placeholder="Type full link">
        <input type="submit" value="Create short link">
    </form>
    <!-- the result of the search will be rendered inside this div -->
    <div id="shortLink"></div>

    <script>
        // Attach a submit handler to the form
        $("#searchForm").submit(function (event) {

            // Stop form from submitting normally
            event.preventDefault();

            // Get some values from elements on the page:
            var $form = $(this),
                term = $form.find("input[name='token']").val(),
                url = $form.attr("FindFullLink");

            // Send the data using post
            var posting = $.post(url, { s: term });

            // Put the results in a div
            posting.done(function (data) {
                var content = $(data).find("#content");
                $("#result").empty().append(content);
            });
        });
    </script>

</body>
</html>

